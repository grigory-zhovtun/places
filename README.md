# Places (Django)

–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ: –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://127.0.0.1:8000/

–ù–µ–±–æ–ª—å—à–æ–µ Django‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –º–µ—Å—Ç –Ω–∞ –∫–∞—Ä—Ç–µ. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Leaflet, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ JSON‚Äë–¥–∞–Ω–Ω—ã–µ –∏/–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î. –ï—Å—Ç—å –∞–¥–º–∏–Ω–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ—Å—Ç–∞–º–∏ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏.

---

## Features

- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –º–µ—Ç–∫–∞–º–∏ –∏ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª—å—é
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –º–µ—Å—Ç (–º–µ–¥–∏–∞)
- –ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å Django: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Å—Ç–∞–º–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –æ–ø–∏—Å–∞–Ω–∏–π (`django-tinymce`)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∞–¥–º–∏–Ω–∫–µ (`django-admin-sortable2`)
- –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏ –∏ –º–µ–¥–∏–∞ –≤ dev‚Äë—Ä–µ–∂–∏–º–µ
- **–ò–º–ø–æ—Ä—Ç –º–µ—Å—Ç –∏–∑ JSON**: –∫–æ–º–∞–Ω–¥–∞ `load_place` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ –ª–æ–∫–∞—Ü–∏—è—Ö –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö JSON-—Ñ–∞–π–ª–æ–≤ –ø–æ URL  

---

## Prerequisites

- Python 3.10+  
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `pip`  
- –§–∞–π–ª `requirements.txt` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)  

---

## Installation and Setup

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π  
   ```bash
   git clone <your-repository-url>
   cd <project-folder>
   ```

2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ  
   ```bash
   python -m venv venv
   # Linux/macOS
   source venv/bin/activate
   # Windows
   venv\Scripts\activate
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
   ```bash
   pip install -r requirements.txt
   ```

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è  
   ```env
   SECRET_KEY=your-secret-key
   DEBUG=True
   ALLOWED_HOSTS=127.0.0.1,localhost
   ```

5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) —Å–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   ```

6. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–µ—Å—Ç–∞ –∏–∑ JSON-—Ñ–∞–π–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `load_place`
   ```bash
   # –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ—Å—Ç–æ –∏–∑ JSON –ø–æ URL
   python manage.py load_place <json_url>

   # –ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Å—Ç–∞ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
   python manage.py load_place https://raw.githubusercontent.com/devmanorg/where-to-go-places/master/places/moscow_legends.json
   ```

7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   ```bash
   python manage.py runserver
   ```

8. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ http://127.0.0.1:8000/
   –ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å: http://127.0.0.1:8000/admin/

---

## Load Place Command

–ö–æ–º–∞–Ω–¥–∞ `load_place` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –º–µ—Å—Ç–∞—Ö –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö JSON-—Ñ–∞–π–ª–æ–≤ –ø–æ URL. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–π –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python manage.py load_place <json_url>
```

### –§–æ—Ä–º–∞—Ç JSON

JSON-—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

```json
{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞",
  "description_short": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "description_long": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å HTML-—Ä–∞–∑–º–µ—Ç–∫–æ–π",
  "coordinates": {
    "lng": 37.617635,
    "lat": 55.755814
  },
  "imgs": [
    "https://example.com/image1.jpg",
    "https://example.com/image2.jpg"
  ]
}
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞

1. **–ó–∞–≥—Ä—É–∂–∞–µ—Ç JSON** –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL
2. **–°–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å** –≤ –º–æ–¥–µ–ª–∏ `Place` —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. **–°–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** –∏–∑ –º–∞—Å—Å–∏–≤–∞ `imgs` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –º–æ–¥–µ–ª—å `Image`
4. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ—Ä—è–¥–æ–∫ –∫–∞–∫ –≤ –º–∞—Å—Å–∏–≤–µ)
5. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏** –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ï—Å–ª–∏ –º–µ—Å—Ç–æ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —Å–æ–∑–¥–∞–Ω–∏–µ
- –ö–∞–∂–¥–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –ö–æ–º–∞–Ω–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—è –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ HTTP, —Ç–∞–∫ –∏ HTTPS –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

---

## Environment Variables

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É–∫–∞–∂–∏—Ç–µ –≤ –Ω—ë–º –∑–Ω–∞—á–µ–Ω–∏—è:

### `SECRET_KEY`

–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ –≤ Django. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –ü–æ–¥–ø–∏—Å–∏ —Å–µ—Å—Å–∏–π –∏ cookies
- –ó–∞—â–∏—Ç—ã –æ—Ç CSRF-–∞—Ç–∞–∫
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è

**–í–∞–∂–Ω–æ:** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```bash
python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
```

üìñ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Django: SECRET_KEY](https://docs.djangoproject.com/en/5.0/ref/settings/#secret-key)

---

### `DEBUG`

–ë—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–∫–ª—é—á–∞—é—â–µ–µ/–≤—ã–∫–ª—é—á–∞—é—â–µ–µ —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏.

- `True` ‚Äî –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ Django –ø–æ–∫–∞–∂–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π traceback —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏–∑ `settings.py`. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!**
- `False` ‚Äî –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Ä–µ–∂–∏–º. –û—à–∏–±–∫–∏ –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

**–í–Ω–∏–º–∞–Ω–∏–µ:** –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä —Å `DEBUG=True` ‚Äî —ç—Ç–æ —Å–µ—Ä—å—ë–∑–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

üìñ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Django: DEBUG](https://docs.djangoproject.com/en/5.0/ref/settings/#debug)

---

### `ALLOWED_HOSTS`

–°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤/—Ö–æ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ Django-—Å–∞–π—Ç –º–æ–∂–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å. –≠—Ç–æ –º–µ—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è HTTP Host header –∞—Ç–∞–∫.

–§–æ—Ä–º–∞—Ç: —Ö–æ—Å—Ç—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤.

–ü—Ä–∏–º–µ—Ä—ã:
```env
# –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
ALLOWED_HOSTS=127.0.0.1,localhost

# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
ALLOWED_HOSTS=example.com,www.example.com
```

üìñ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Django: ALLOWED_HOSTS](https://docs.djangoproject.com/en/5.0/ref/settings/#allowed-hosts)  

---
